<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>拍照引导 - AI颜值管家</title>
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- 路径配置 -->
  <script>
    // 内联路径配置 - 支持本地和 GitHub Pages 环境
    window.PathHelper = {
      getBasePath() {
        const hostname = window.location.hostname;
        const pathname = window.location.pathname;
        if (hostname.includes('github.io')) {
          const pathParts = pathname.split('/').filter(p => p);
          if (pathParts.length > 0 && pathParts[0] !== 'web' && pathParts[0] !== 'admin') {
            return '/' + pathParts[0];
          }
        }
        if (hostname.includes('gitee.io')) {
          const pathParts = pathname.split('/').filter(p => p);
          if (pathParts.length > 0 && pathParts[0] !== 'web' && pathParts[0] !== 'admin') {
            return '/' + pathParts[0];
          }
        }
        return '';
      },
      getPath(path) {
        if (!path) return '';
        if (!path.startsWith('/')) path = '/' + path;
        let currentPath = window.location.pathname;
        const basePath = this.getBasePath();
        if (basePath && currentPath.startsWith(basePath)) {
          currentPath = currentPath.substring(basePath.length);
        }
        const currentParts = currentPath.split('/').filter(p => p);
        const currentDirs = currentParts.slice(0, -1);
        const currentDepth = currentDirs.length;
        const targetPath = path.substring(1);
        let relativePath = currentDepth === 0 ? './' : '../'.repeat(currentDepth);
        return relativePath + targetPath;
      }
    };
    
    // 立即设置 base.css 路径（避免页面闪烁）
    document.write('<link rel="stylesheet" href="' + PathHelper.getPath('/web/assets/css/base.css') + '">');
  </script>
  
  <style>
    body {
      background: linear-gradient(135deg, #fef3f5 0%, #fef7fb 50%, #f5f7fe 100%);
      min-height: 100vh;
    }

    .guide-card {
      background: white;
      border-radius: 20px;
      box-shadow: 0 10px 40px rgba(236, 72, 153, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .guide-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 50px rgba(236, 72, 153, 0.15);
    }

    .angle-card {
      background: linear-gradient(135deg, #ffffff 0%, #fef7fb 100%);
      border: 2px solid #fce7f3;
      border-radius: 16px;
      padding: 1.5rem;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .angle-card:hover {
      border-color: #ec4899;
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(236, 72, 153, 0.2);
    }

    .angle-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
      border-radius: 50%;
      color: white;
      font-size: 2rem;
    }

    .tip-item {
      background: #fef7fb;
      border-left: 4px solid #ec4899;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      transition: all 0.3s ease;
    }

    .tip-item:hover {
      background: #fce7f3;
      transform: translateX(5px);
    }

    .start-button {
      background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
      color: white;
      padding: 1rem 3rem;
      border-radius: 50px;
      font-size: 1.125rem;
      font-weight: 600;
      border: none;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(236, 72, 153, 0.3);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .start-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 40px rgba(236, 72, 153, 0.4);
    }

    .start-button:active {
      transform: translateY(0);
    }

    .header-gradient {
      background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 50%, #6366f1 100%);
      color: white;
      padding: 2rem 1rem;
      border-radius: 0 0 30px 30px;
    }

    .badge {
      display: inline-block;
      background: rgba(255, 255, 255, 0.2);
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.875rem;
      margin-bottom: 0.5rem;
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    .pulse-animate {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    /* 模态框样式 */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .modal-overlay.show {
      opacity: 1;
    }

    .modal-content {
      background: white;
      border-radius: 24px;
      padding: 2rem;
      max-width: 420px;
      width: 90%;
      margin: 1rem;
      position: relative;
      transform: scale(0.9);
      transition: transform 0.3s ease;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .modal-overlay.show .modal-content {
      transform: scale(1);
    }

    .modal-icon-wrapper {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #fce7f3 0%, #f3e8ff 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1.5rem;
    }

    .modal-icon {
      font-size: 2.5rem;
      background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .modal-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: #f3f4f6;
      border: none;
      color: #6b7280;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .modal-close:hover {
      background: #e5e7eb;
      color: #374151;
    }

    .btn-primary {
      width: 100%;
      padding: 1rem;
      background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      box-shadow: 0 4px 15px rgba(236, 72, 153, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(236, 72, 153, 0.4);
    }

    .btn-secondary {
      width: 100%;
      padding: 1rem;
      background: white;
      color: #6b7280;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .btn-secondary:hover {
      border-color: #ec4899;
      color: #ec4899;
      transform: translateY(-2px);
    }

    .benefit-tag {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      background: #fef3f5;
      color: #ec4899;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 500;
    }
  </style>
</head>
<body>
  <!-- 顶部导航 -->
  <div class="header-gradient">
    <div class="max-w-4xl mx-auto">
      <button onclick="Router.back()" class="text-white mb-4 flex items-center gap-2 hover:opacity-80 transition-opacity">
        <i class="fas fa-arrow-left"></i>
        <span>返回</span>
      </button>
      <div class="text-center">
        <div class="badge">
          <i class="fas fa-crown mr-1"></i>
          专业AI评估
        </div>
        <h1 class="text-3xl font-bold mb-2">免费颜值评估</h1>
        <p class="text-white/90">仅需30秒，获取专业面部分析报告</p>
      </div>
    </div>
  </div>

  <!-- 主要内容 -->
  <div class="max-w-4xl mx-auto px-4 py-8">
    <!-- 拍照角度说明 -->
    <div class="guide-card p-8 mb-6">
      <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
        <i class="fas fa-camera text-pink-500 mr-2"></i>
        拍照角度说明
      </h2>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <!-- 正面照 -->
        <div class="angle-card text-center">
          <div class="angle-icon">
            <i class="fas fa-user"></i>
          </div>
          <h3 class="text-lg font-semibold text-gray-800 mb-2">正面照</h3>
          <p class="text-gray-600 text-sm mb-3">面部完整，正对镜头</p>
          <div class="flex items-center justify-center text-pink-500 text-sm">
            <i class="fas fa-check-circle mr-1"></i>
            <span>必拍</span>
          </div>
        </div>

        <!-- 左侧45度 -->
        <div class="angle-card text-center">
          <div class="angle-icon">
            <i class="fas fa-user-slash" style="transform: rotate(-45deg);"></i>
          </div>
          <h3 class="text-lg font-semibold text-gray-800 mb-2">左侧45°</h3>
          <p class="text-gray-600 text-sm mb-3">轻微转向左侧</p>
          <div class="flex items-center justify-center text-pink-500 text-sm">
            <i class="fas fa-check-circle mr-1"></i>
            <span>必拍</span>
          </div>
        </div>

        <!-- 右侧45度 -->
        <div class="angle-card text-center">
          <div class="angle-icon">
            <i class="fas fa-user-slash" style="transform: rotate(45deg);"></i>
          </div>
          <h3 class="text-lg font-semibold text-gray-800 mb-2">右侧45°</h3>
          <p class="text-gray-600 text-sm mb-3">轻微转向右侧</p>
          <div class="flex items-center justify-center text-pink-500 text-sm">
            <i class="fas fa-check-circle mr-1"></i>
            <span>必拍</span>
          </div>
        </div>
      </div>
    </div>

    <!-- 拍照小贴士 -->
    <div class="guide-card p-8 mb-6">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">
        <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
        拍照小贴士
      </h2>
      
      <div class="space-y-4">
        <div class="tip-item">
          <div class="flex items-start">
            <div class="flex-shrink-0 w-8 h-8 bg-pink-500 text-white rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-sun"></i>
            </div>
            <div>
              <h3 class="font-semibold text-gray-800 mb-1">光线充足</h3>
              <p class="text-gray-600 text-sm">在光线明亮的环境下拍摄，避免背光和强光直射</p>
            </div>
          </div>
        </div>

        <div class="tip-item">
          <div class="flex items-start">
            <div class="flex-shrink-0 w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-smile"></i>
            </div>
            <div>
              <h3 class="font-semibold text-gray-800 mb-1">面部放松</h3>
              <p class="text-gray-600 text-sm">保持自然表情，面部放松，不要刻意做表情</p>
            </div>
          </div>
        </div>

        <div class="tip-item">
          <div class="flex items-start">
            <div class="flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-eye"></i>
            </div>
            <div>
              <h3 class="font-semibold text-gray-800 mb-1">五官清晰</h3>
              <p class="text-gray-600 text-sm">确保面部五官清晰可见，不要被头发遮挡</p>
            </div>
          </div>
        </div>

        <div class="tip-item">
          <div class="flex items-start">
            <div class="flex-shrink-0 w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-ban"></i>
            </div>
            <div>
              <h3 class="font-semibold text-gray-800 mb-1">避免遮挡</h3>
              <p class="text-gray-600 text-sm">拍摄时摘掉眼镜、口罩等遮挡物，露出完整面部</p>
            </div>
          </div>
        </div>

        <div class="tip-item">
          <div class="flex items-start">
            <div class="flex-shrink-0 w-8 h-8 bg-orange-500 text-white rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-shield-alt"></i>
            </div>
            <div>
              <h3 class="font-semibold text-gray-800 mb-1">隐私保护</h3>
              <p class="text-gray-600 text-sm">您的照片仅用于AI分析，我们承诺严格保护您的隐私</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 评估优势说明 -->
    <div class="guide-card p-8 mb-8">
      <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
        <i class="fas fa-star text-yellow-500 mr-2"></i>
        为什么选择我们
      </h2>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full flex items-center justify-center text-white text-2xl">
            <i class="fas fa-brain"></i>
          </div>
          <h3 class="font-semibold text-gray-800 mb-2">AI智能分析</h3>
          <p class="text-gray-600 text-sm">采用先进AI技术，精准识别面部问题</p>
        </div>

        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center text-white text-2xl">
            <i class="fas fa-user-md"></i>
          </div>
          <h3 class="font-semibold text-gray-800 mb-2">专家级报告</h3>
          <p class="text-gray-600 text-sm">专业医美专家团队提供权威建议</p>
        </div>

        <div class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center text-white text-2xl">
            <i class="fas fa-lock"></i>
          </div>
          <h3 class="font-semibold text-gray-800 mb-2">隐私保护</h3>
          <p class="text-gray-600 text-sm">数据加密存储，绝不泄露个人信息</p>
        </div>
      </div>
    </div>

    <!-- 开始拍照按钮 -->
    <div class="text-center mb-8">
      <button onclick="startCamera()" class="start-button mx-auto">
        <i class="fas fa-camera"></i>
        <span>开始拍照</span>
      </button>
      <p class="text-gray-500 text-sm mt-4">
        <i class="fas fa-clock mr-1 pulse-animate"></i>
        预计评估时间：30-60秒
      </p>
    </div>
  </div>

  <!-- 引入共享脚本 - 使用相对路径兼容 GitHub Pages -->
  <script src="../../../shared/storage.js"></script>
  <script src="../../../shared/utils.js"></script>
  <script src="../../../shared/router.js"></script>

  <script>
    // ==================== 核心功能 ====================
    
    // 开始拍照
    function startCamera() {
      // 调试：检查 Storage 是否加载
      if (typeof Storage === 'undefined') {
        console.error('❌ Storage 未加载！检查 storage.js 路径:', '../../../shared/storage.js');
        alert('页面资源加载失败，请刷新页面重试');
        return;
      }
      
      console.log('✅ Storage 已加载，开始检查登录状态...');
      const currentUser = Storage.get('currentUser');
      
      if (!currentUser) {
        // 未登录：显示友好的登录提示
        console.log('未登录，显示登录提示');
        showLoginPrompt();
      } else {
        // 已登录：直接进入拍照
        console.log('已登录，直接进入拍照页面');
        navigateToCamera();
      }
    }

    // 显示登录提示模态框
    function showLoginPrompt() {
      const modalHTML = `
        <div id="loginModal" class="modal-overlay">
          <div class="modal-content">
            <!-- 关闭按钮 -->
            <button class="modal-close" onclick="closeLoginModal()">
              <i class="fas fa-times"></i>
            </button>

            <!-- 图标 -->
            <div class="modal-icon-wrapper">
              <i class="fas fa-user-circle modal-icon"></i>
            </div>

            <!-- 标题和描述 -->
            <div class="text-center mb-6">
              <h3 class="text-2xl font-bold text-gray-800 mb-3">开始颜值评估</h3>
              <p class="text-gray-600 text-sm leading-relaxed mb-4">
                登录后可享受完整服务体验
              </p>
              
              <!-- 登录优势标签 -->
              <div class="flex flex-wrap gap-2 justify-center">
                <span class="benefit-tag">
                  <i class="fas fa-save"></i>
                  保存报告
                </span>
                <span class="benefit-tag">
                  <i class="fas fa-history"></i>
                  查看历史
                </span>
                <span class="benefit-tag">
                  <i class="fas fa-chart-line"></i>
                  追踪变化
                </span>
              </div>
            </div>

            <!-- 按钮组 -->
            <div class="space-y-3">
              <!-- 登录按钮 -->
              <button onclick="goToLogin()" class="btn-primary">
                <i class="fas fa-sign-in-alt"></i>
                <span>登录/注册</span>
              </button>

              <!-- 游客体验按钮 -->
              <button onclick="continueAsGuest()" class="btn-secondary">
                <i class="fas fa-eye"></i>
                <span>游客体验（报告不保存）</span>
              </button>
            </div>

            <!-- 底部提示 -->
            <div class="mt-4 text-center">
              <p class="text-xs text-gray-400">
                <i class="fas fa-shield-alt mr-1"></i>
                您的隐私安全受到严格保护
              </p>
            </div>
          </div>
        </div>
      `;

      // 插入模态框
      document.body.insertAdjacentHTML('beforeend', modalHTML);
      
      // 触发动画
      setTimeout(() => {
        const modal = document.getElementById('loginModal');
        if (modal) {
          modal.classList.add('show');
        }
      }, 10);

      // 阻止背景滚动
      document.body.style.overflow = 'hidden';
    }

    // 关闭登录模态框
    function closeLoginModal() {
      const modal = document.getElementById('loginModal');
      if (modal) {
        modal.classList.remove('show');
        setTimeout(() => {
          modal.remove();
          // 恢复背景滚动
          document.body.style.overflow = '';
        }, 300);
      }
    }

    // 跳转到登录页
    function goToLogin() {
      // 保存返回路径，登录成功后自动返回
      Storage.set('returnUrl', '/web/pages/assessment/guide.html');
      Storage.set('returnAction', 'startCamera'); // 标记返回后的操作
      
      // 跳转到登录页（使用绝对路径）
      Router.navigate('/web/pages/auth/login.html');
    }

    // 游客继续体验
    function continueAsGuest() {
      console.log('用户选择游客模式体验');
      
      // 设置游客模式标记
      Storage.set('guestMode', true);
      Storage.set('guestStartTime', Date.now());
      
      // 关闭模态框
      closeLoginModal();
      
      // 短暂延迟后跳转，让用户看到关闭动画
      setTimeout(() => {
        navigateToCamera();
      }, 300);
    }

    // 跳转到拍照页面
    function navigateToCamera() {
      const currentUser = Storage.get('currentUser');
      const isGuest = Storage.get('guestMode');
      
      console.log('导航到拍照页面:', {
        isLoggedIn: !!currentUser,
        isGuest: isGuest
      });
      
      // 使用绝对路径导航
      Router.navigate('/web/pages/assessment/camera.html');
    }

    // ==================== 页面加载和初始化 ====================
    
    document.addEventListener('DOMContentLoaded', function() {
      console.log('📄 拍照引导页已加载');
      
      // 检查依赖是否加载
      console.log('🔍 检查依赖加载状态:');
      console.log('  - Storage:', typeof Storage !== 'undefined' ? '✅' : '❌');
      console.log('  - Router:', typeof Router !== 'undefined' ? '✅' : '❌');
      console.log('  - PathHelper:', typeof PathHelper !== 'undefined' ? '✅' : '❌');
      
      if (typeof Storage === 'undefined') {
        console.error('❌ Storage 未加载，请检查 storage.js 文件路径');
      }
      if (typeof Router === 'undefined') {
        console.error('❌ Router 未加载，请检查 router.js 文件路径');
      }
      
      // 检查是否是登录后返回
      checkLoginReturn();
      
      // 添加淡入动画
      animateCards();
      
      // 点击模态框背景关闭
      document.addEventListener('click', function(e) {
        if (e.target && e.target.id === 'loginModal') {
          closeLoginModal();
        }
      });
      
      // ESC键关闭模态框
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeLoginModal();
        }
      });
    });

    // 检查登录返回
    function checkLoginReturn() {
      const returnAction = Storage.get('returnAction');
      const currentUser = Storage.get('currentUser');
      
      if (returnAction === 'startCamera' && currentUser) {
        console.log('检测到登录返回，自动跳转拍照页面');
        
        // 清除返回标记
        Storage.remove('returnAction');
        Storage.remove('returnUrl');
        
        // 显示欢迎提示
        showWelcomeToast();
        
        // 自动跳转到拍照页面
        setTimeout(() => {
          navigateToCamera();
        }, 1500);
      }
    }

    // 显示欢迎提示
    function showWelcomeToast() {
      const currentUser = Storage.get('currentUser');
      const userName = currentUser.nickname || currentUser.phone || '用户';
      
      const toast = document.createElement('div');
      toast.style.cssText = `
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
        color: white;
        padding: 1rem 2rem;
        border-radius: 50px;
        box-shadow: 0 10px 30px rgba(236, 72, 153, 0.3);
        z-index: 10000;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        animation: slideDown 0.5s ease;
      `;
      toast.innerHTML = `
        <i class="fas fa-check-circle"></i>
        <span>欢迎回来，${userName}！</span>
      `;
      
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'slideUp 0.5s ease';
        setTimeout(() => toast.remove(), 500);
      }, 1500);
    }

    // 卡片淡入动画
    function animateCards() {
      const cards = document.querySelectorAll('.guide-card');
      cards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
        
        setTimeout(() => {
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        }, index * 100 + 100);
      });
    }

    // ==================== 调试工具（开发时使用）====================
    
    // 模拟登录状态（用于测试）
    window.debugLogin = function(userInfo = null) {
      const testUser = userInfo || {
        id: 'test_' + Date.now(),
        phone: '13800138000',
        nickname: '测试用户',
        avatar: '/web/assets/images/avatars/avatar1.jpg',
        loginTime: Date.now()
      };
      
      Storage.set('currentUser', testUser);
      console.log('✅ 已设置测试登录状态:', testUser);
      location.reload();
    };

    // 清除登录状态（用于测试）
    window.debugLogout = function() {
      Storage.remove('currentUser');
      Storage.remove('guestMode');
      Storage.remove('returnAction');
      Storage.remove('returnUrl');
      console.log('✅ 已清除所有登录状态');
      location.reload();
    };

    // 查看当前状态
    window.debugStatus = function() {
      const currentUser = Storage.get('currentUser');
      const isGuest = Storage.get('guestMode');
      const returnAction = Storage.get('returnAction');
      
      console.log('=== 当前状态 ===');
      console.log('登录状态:', currentUser ? '已登录' : '未登录');
      console.log('用户信息:', currentUser);
      console.log('游客模式:', isGuest ? '是' : '否');
      console.log('返回动作:', returnAction);
      console.log('================');
    };

    console.log('💡 调试提示：');
    console.log('  - debugLogin()   : 模拟登录');
    console.log('  - debugLogout()  : 清除登录');
    console.log('  - debugStatus()  : 查看状态');
  </script>

  <!-- 动画样式 -->
  <style>
    @keyframes slideDown {
      from {
        transform: translate(-50%, -100%);
        opacity: 0;
      }
      to {
        transform: translate(-50%, 0);
        opacity: 1;
      }
    }

    @keyframes slideUp {
      from {
        transform: translate(-50%, 0);
        opacity: 1;
      }
      to {
        transform: translate(-50%, -100%);
        opacity: 0;
      }
    }
  </style>
</body>
</html>


