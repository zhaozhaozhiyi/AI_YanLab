# è¯„ä¼°æ¨¡å—è°ƒè¯•æŒ‡å—

## ğŸ” é—®é¢˜ï¼šæŠ¥å‘Šé¡µé¢æ•°æ®ä¸æ˜¾ç¤º

å¦‚æœæ‚¨é‡åˆ°æŠ¥å‘Šé¡µé¢æ‰“å¼€åæ²¡æœ‰æ˜¾ç¤ºæ•°æ®çš„é—®é¢˜ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š

---

## æ­¥éª¤1ï¼šä½¿ç”¨æµ‹è¯•é¡µé¢æ£€æŸ¥ç¯å¢ƒ

è®¿é—®æµ‹è¯•é¡µé¢ï¼š
```
http://localhost:3000/web/pages/assessment/test.html
```

**æ£€æŸ¥é¡¹ç›®**ï¼š
- âœ“ Routerã€Utilsã€Storage æ˜¯å¦å·²åŠ è½½
- âœ“ localStorage æ˜¯å¦å¯ç”¨
- âœ“ æ•°æ®ç”Ÿæˆå’Œå­˜å‚¨æ˜¯å¦æ­£å¸¸

**æ“ä½œ**ï¼š
1. ç‚¹å‡» **"ç”Ÿæˆæ¼”ç¤ºæŠ¥å‘Šæ•°æ®"** æŒ‰é’®
2. ç‚¹å‡» **"è·³è½¬åˆ°æŠ¥å‘Šé¡µé¢"** æŒ‰é’®
3. æŸ¥çœ‹æŠ¥å‘Šæ˜¯å¦æ­£å¸¸æ˜¾ç¤º

---

## æ­¥éª¤2ï¼šæ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°

### å¦‚ä½•æ‰“å¼€æ§åˆ¶å°ï¼š
- **Chrome/Edge**: æŒ‰ `F12` æˆ– `Ctrl+Shift+J` (Mac: `Cmd+Option+J`)
- **Firefox**: æŒ‰ `F12` æˆ– `Ctrl+Shift+K` (Mac: `Cmd+Option+K`)
- **Safari**: æŒ‰ `Cmd+Option+C`

### æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯ï¼š

æ‰“å¼€æŠ¥å‘Šé¡µé¢åï¼Œæ§åˆ¶å°åº”è¯¥æ˜¾ç¤ºï¼š
```
é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹åˆå§‹åŒ–...
æœªæ‰¾åˆ°æŠ¥å‘Šæ•°æ®ï¼Œç”Ÿæˆæµ‹è¯•æ•°æ®...
æŠ¥å‘Šæ•°æ®å·²åŠ è½½: {Object}
å¼€å§‹æ¸²æŸ“æŠ¥å‘Š...
æŠ¥å‘Šæ—¥æœŸå·²è®¾ç½®
è¿™æ˜¯æµ‹è¯•æ•°æ®ï¼Œæ˜¾ç¤ºæ¼”ç¤ºæ ‡è¯†
æ¸²æŸ“æ€»ä½“è¯„åˆ†...
æ¸²æŸ“ç»´åº¦è¯„åˆ†...
æ¸²æŸ“é—®é¢˜åˆ†æ...
æ¸²æŸ“ä¼˜åŠ¿ç‰¹å¾...
æ¸²æŸ“æ”¹å–„å»ºè®®...
æ‰€æœ‰å†…å®¹æ¸²æŸ“å®Œæˆï¼
```

### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆï¼š

#### é”™è¯¯1ï¼š`Utils is not defined`
**åŸå› **ï¼šutils.js æœªåŠ è½½
**è§£å†³**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸ
2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼ˆ`Ctrl+Shift+Delete` æˆ– `Cmd+Shift+Delete`ï¼‰
3. å¼ºåˆ¶åˆ·æ–°é¡µé¢ï¼ˆ`Ctrl+Shift+R` æˆ– `Cmd+Shift+R`ï¼‰

#### é”™è¯¯2ï¼š`Storage is not defined`
**åŸå› **ï¼šstorage.js æœªåŠ è½½
**è§£å†³**ï¼šåŒä¸Š

#### é”™è¯¯3ï¼š`Chart is not defined`
**åŸå› **ï¼šChart.js CDN æœªåŠ è½½
**è§£å†³**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. æŸ¥çœ‹ç½‘ç»œè¯·æ±‚æ˜¯å¦è¢«æ‹¦æˆª

#### é”™è¯¯4ï¼š`Cannot read property 'xxx' of null`
**åŸå› **ï¼šDOM å…ƒç´ æœªæ‰¾åˆ°
**è§£å†³**ï¼š
1. æ£€æŸ¥é¡µé¢ HTML ç»“æ„æ˜¯å¦å®Œæ•´
2. ç¡®è®¤å…ƒç´  ID æ˜¯å¦æ­£ç¡®

---

## æ­¥éª¤3ï¼šæ‰‹åŠ¨æ£€æŸ¥å­˜å‚¨æ•°æ®

åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

### æŸ¥çœ‹å½“å‰æŠ¥å‘Šæ•°æ®ï¼š
```javascript
Storage.get('currentReport')
```

### æ‰‹åŠ¨ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼š
```javascript
const testReport = {
  id: 'REPORT_TEST',
  assessmentId: 'ASSESS_TEST',
  userId: 'USER_TEST',
  createdAt: Date.now(),
  isTestData: true,
  overallScore: 82,
  ageScore: 75,
  skinScore: 80,
  faceScore: 85,
  estimatedAge: 28,
  actualAge: 32,
  issues: [
    {
      id: 1,
      name: 'ç»†çº¹ä¸çš±çº¹',
      severity: 'medium',
      score: 72,
      areas: ['çœ¼å‘¨', 'é¢å¤´'],
      description: 'æµ‹è¯•æè¿°',
      suggestions: ['å»ºè®®1', 'å»ºè®®2']
    }
  ],
  recommendations: [
    {
      priority: 'high',
      title: 'æŠ—è¡°è€æŠ¤ç†',
      treatments: ['è‚‰æ¯’ç´ ', 'ç»å°¿é…¸'],
      estimatedCost: '8000-15000å…ƒ',
      duration: '3-6ä¸ªæœˆ'
    }
  ],
  strengths: ['ä¼˜åŠ¿1', 'ä¼˜åŠ¿2']
};

Storage.set('currentReport', testReport);
console.log('æµ‹è¯•æ•°æ®å·²ä¿å­˜');

// åˆ·æ–°é¡µé¢æŸ¥çœ‹æ•ˆæœ
location.reload();
```

### æ¸…é™¤æ‰€æœ‰æ•°æ®ï¼š
```javascript
localStorage.clear();
console.log('æ‰€æœ‰æ•°æ®å·²æ¸…é™¤');
location.reload();
```

---

## æ­¥éª¤4ï¼šæ£€æŸ¥ç½‘ç»œè¯·æ±‚

åœ¨æµè§ˆå™¨æ§åˆ¶å°çš„ **Network (ç½‘ç»œ)** æ ‡ç­¾ä¸­ï¼Œæ£€æŸ¥ä»¥ä¸‹èµ„æºæ˜¯å¦æˆåŠŸåŠ è½½ï¼š

### å¿…éœ€èµ„æºï¼š
- âœ“ `/web/assets/css/base.css` - çŠ¶æ€ç  200
- âœ“ `/shared/router.js` - çŠ¶æ€ç  200
- âœ“ `/shared/utils.js` - çŠ¶æ€ç  200
- âœ“ `/shared/storage.js` - çŠ¶æ€ç  200
- âœ“ `https://cdn.tailwindcss.com` - Tailwind CSS
- âœ“ `https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css` - Font Awesome
- âœ“ `https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js` - Chart.js

### å¦‚æœæŸäº›èµ„æºåŠ è½½å¤±è´¥ï¼š
1. **404 é”™è¯¯**ï¼šæ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
2. **CORS é”™è¯¯**ï¼šç¡®ä¿ä½¿ç”¨ `http://localhost:3000` è€Œä¸æ˜¯ `file://`
3. **CDN åŠ è½½å¤±è´¥**ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œæˆ–æ›´æ¢ CDN æº

---

## æ­¥éª¤5ï¼šå¼ºåˆ¶åˆ·æ–°å’Œæ¸…é™¤ç¼“å­˜

### æ–¹æ³•1ï¼šå¼ºåˆ¶åˆ·æ–°
- **Windows/Linux**: `Ctrl + Shift + R`
- **Mac**: `Cmd + Shift + R`

### æ–¹æ³•2ï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜
1. æ‰“å¼€æµè§ˆå™¨è®¾ç½®
2. æ‰¾åˆ°"éšç§å’Œå®‰å…¨"
3. æ¸…é™¤æµè§ˆæ•°æ®
4. é€‰æ‹©"ç¼“å­˜çš„å›¾åƒå’Œæ–‡ä»¶"
5. ç‚¹å‡»"æ¸…é™¤æ•°æ®"

### æ–¹æ³•3ï¼šä½¿ç”¨æ— ç—•/éšç§æ¨¡å¼
- **Chrome**: `Ctrl + Shift + N` (Mac: `Cmd + Shift + N`)
- **Firefox**: `Ctrl + Shift + P` (Mac: `Cmd + Shift + P`)
- **Safari**: `Cmd + Shift + N`

åœ¨æ— ç—•æ¨¡å¼ä¸‹è®¿é—®ï¼š
```
http://localhost:3000/web/pages/assessment/report.html
```

---

## æ­¥éª¤6ï¼šå®Œæ•´çš„è¯„ä¼°æµç¨‹æµ‹è¯•

å¦‚æœç›´æ¥è®¿é—®æŠ¥å‘Šé¡µé¢æœ‰é—®é¢˜ï¼Œå°è¯•å®Œæ•´æµç¨‹ï¼š

1. **è®¿é—®é¦–é¡µ**
   ```
   http://localhost:3000/web/
   ```

2. **ç‚¹å‡»"ç«‹å³å…è´¹è¯„ä¼°"**

3. **è¿›å…¥æ‹ç…§å¼•å¯¼é¡µ**
   - ç‚¹å‡»"å¼€å§‹æ‹ç…§"

4. **æ‹ç…§é¡µé¢**
   - å…è®¸æ‘„åƒå¤´æƒé™
   - æ‹æ‘„3å¼ ç…§ç‰‡ï¼ˆæˆ–è·³è¿‡ï¼Œç›´æ¥åœ¨æ§åˆ¶å°æ‰§è¡Œï¼‰ï¼š
   ```javascript
   // æ¨¡æ‹Ÿæ‹ç…§æ•°æ®
   const mockPhotos = [
     { angle: 'front', data: 'data:image/png;base64,iVBORw0KG...', timestamp: Date.now() },
     { angle: 'left', data: 'data:image/png;base64,iVBORw0KG...', timestamp: Date.now() },
     { angle: 'right', data: 'data:image/png;base64,iVBORw0KG...', timestamp: Date.now() }
   ];
   Storage.set('capturedPhotos', mockPhotos);
   Router.navigate('./confirm.html');
   ```

5. **ç…§ç‰‡ç¡®è®¤é¡µ**
   - ç‚¹å‡»"æäº¤è¯„ä¼°"

6. **ç­‰å¾…é¡µé¢**
   - ç­‰å¾…45ç§’æˆ–åœ¨æ§åˆ¶å°æ‰§è¡Œï¼š
   ```javascript
   Router.navigate('./report.html');
   ```

7. **æŠ¥å‘Šé¡µé¢**
   - åº”è¯¥æ˜¾ç¤ºå®Œæ•´çš„è¯„ä¼°æŠ¥å‘Š

---

## å¿«é€Ÿè§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆAï¼šä½¿ç”¨æµ‹è¯•é¡µé¢ç”Ÿæˆæ•°æ®

1. è®¿é—®ï¼š`http://localhost:3000/web/pages/assessment/test.html`
2. ç‚¹å‡»"ç”Ÿæˆæ¼”ç¤ºæŠ¥å‘Šæ•°æ®"
3. ç‚¹å‡»"è·³è½¬åˆ°æŠ¥å‘Šé¡µé¢"
4. æŠ¥å‘Šåº”è¯¥æ­£å¸¸æ˜¾ç¤º

### æ–¹æ¡ˆBï¼šæ§åˆ¶å°ç›´æ¥ç”Ÿæˆ

åœ¨ä»»æ„é¡µé¢çš„æ§åˆ¶å°æ‰§è¡Œï¼š
```javascript
// åŠ è½½Storageï¼ˆå¦‚æœæœªåŠ è½½ï¼‰
if (typeof Storage === 'undefined') {
  const script = document.createElement('script');
  script.src = '/shared/storage.js';
  document.head.appendChild(script);
  script.onload = () => {
    generateReport();
  };
} else {
  generateReport();
}

function generateReport() {
  const report = {
    id: 'REPORT_' + Date.now(),
    assessmentId: 'ASSESS_TEST',
    userId: 'USER_TEST',
    createdAt: Date.now(),
    isTestData: true,
    overallScore: 82,
    ageScore: 75,
    skinScore: 80,
    faceScore: 85,
    estimatedAge: 28,
    actualAge: 32,
    issues: [
      {
        id: 1,
        name: 'ç»†çº¹ä¸çš±çº¹',
        severity: 'medium',
        score: 72,
        areas: ['çœ¼å‘¨', 'é¢å¤´', 'æ³•ä»¤çº¹'],
        description: 'åœ¨çœ¼å‘¨å’Œé¢å¤´åŒºåŸŸå‘ç°è½»åº¦ç»†çº¹ã€‚',
        suggestions: ['ä½¿ç”¨å«è§†é»„é†‡çš„çœ¼éœœ', 'å®šæœŸè¡¥æ°´æŠ¤ç†', 'è€ƒè™‘è‚‰æ¯’ç´ æ³¨å°„']
      },
      {
        id: 2,
        name: 'è‚¤è‰²ä¸å‡',
        severity: 'low',
        score: 78,
        areas: ['é¢é¢Š', 'TåŒº'],
        description: 'é¢éƒ¨è‚¤è‰²æ•´ä½“å‡åŒ€ï¼Œå±€éƒ¨TåŒºç•¥æœ‰è‰²å·®ã€‚',
        suggestions: ['ä½¿ç”¨ç¾ç™½ç²¾åæ¶²', 'æ³¨æ„é˜²æ™’', 'å®šæœŸå»è§’è´¨']
      }
    ],
    recommendations: [
      {
        priority: 'high',
        title: 'æŠ—è¡°è€æŠ¤ç†',
        treatments: ['è‚‰æ¯’ç´ ', 'ç»å°¿é…¸å¡«å……', 'çƒ­ç›å‰'],
        estimatedCost: '8000-15000å…ƒ',
        duration: '3-6ä¸ªæœˆ'
      },
      {
        priority: 'medium',
        title: 'è‚¤è´¨æ”¹å–„',
        treatments: ['å…‰å­å«©è‚¤', 'æ°´å…‰é’ˆ', 'æœé…¸ç„•è‚¤'],
        estimatedCost: '3000-8000å…ƒ',
        duration: '1-3ä¸ªæœˆ'
      }
    ],
    strengths: [
      'é¢éƒ¨è½®å»“æ¸…æ™°ï¼Œéª¨éª¼ç»“æ„è‰¯å¥½',
      'çš®è‚¤åº•å­è¾ƒå¥½ï¼Œæ— æ˜æ˜¾è‰²æ–‘',
      'äº”å®˜æ¯”ä¾‹åè°ƒ'
    ]
  };

  localStorage.setItem('aibeauty_currentReport', JSON.stringify(report));
  console.log('âœ“ æŠ¥å‘Šæ•°æ®å·²ç”Ÿæˆå¹¶ä¿å­˜');
  console.log('ç°åœ¨è®¿é—®ï¼šhttp://localhost:3000/web/pages/assessment/report.html');
  
  // è‡ªåŠ¨è·³è½¬
  window.location.href = '/web/pages/assessment/report.html';
}
```

---

## è”ç³»æ”¯æŒ

å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ— æ³•è§£å†³é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **æµè§ˆå™¨ç±»å‹å’Œç‰ˆæœ¬**
   - ç¤ºä¾‹ï¼šChrome 120.0.6099.109

2. **æ§åˆ¶å°é”™è¯¯æˆªå›¾**
   - æŒ‰ F12 æ‰“å¼€æ§åˆ¶å°
   - æˆªå›¾æ‰€æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯

3. **ç½‘ç»œè¯·æ±‚æˆªå›¾**
   - åˆ‡æ¢åˆ° Network æ ‡ç­¾
   - æˆªå›¾æ‰€æœ‰çº¢è‰²ï¼ˆå¤±è´¥ï¼‰çš„è¯·æ±‚

4. **é¡µé¢æ˜¾ç¤ºæƒ…å†µ**
   - é¡µé¢å®Œå…¨ç©ºç™½ï¼Ÿ
   - åªæ˜¾ç¤ºéƒ¨åˆ†å†…å®¹ï¼Ÿ
   - æˆªå›¾å½“å‰æ˜¾ç¤ºçš„å†…å®¹

---

## å·²çŸ¥é—®é¢˜

### é—®é¢˜1ï¼šSafariéšç§æ¨¡å¼ä¸‹localStorageä¸å¯ç”¨
**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨æ™®é€šæ¨¡å¼è®¿é—®

### é—®é¢˜2ï¼šCDNåœ¨ä¸­å›½å¤§é™†è®¿é—®è¾ƒæ…¢
**è§£å†³æ–¹æ¡ˆ**ï¼šç­‰å¾…CDNèµ„æºåŠ è½½å®Œæˆï¼Œæˆ–ä½¿ç”¨å›½å†…CDNé•œåƒ

### é—®é¢˜3ï¼šç«¯å£å†²çª
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# åœæ­¢3000ç«¯å£
lsof -ti:3000 | xargs kill -9

# é‡æ–°å¯åŠ¨
npx serve -l 3000
```

---

## æˆåŠŸæ ‡å¿—

æŠ¥å‘Šé¡µé¢åŠ è½½æˆåŠŸåï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ï¼š

âœ“ é¡¶éƒ¨æ˜¾ç¤º"æ¼”ç¤ºæ•°æ®"æ ‡è¯†ï¼ˆæ©™è‰²èƒŒæ™¯ï¼‰
âœ“ ç»¼åˆè¯„åˆ†82åˆ†ï¼Œå¸¦åœ†ç¯å›¾
âœ“ AIé¢„æµ‹å¹´é¾„28å² vs å®é™…å¹´é¾„32å²
âœ“ 3ä¸ªç»´åº¦è¯„åˆ†å¡ç‰‡
âœ“ 3ä¸ªé¢éƒ¨é—®é¢˜åˆ†æå¡ç‰‡
âœ“ 3ä¸ªä¼˜åŠ¿ç‰¹å¾é¡¹
âœ“ 2ä¸ªæ”¹å–„å»ºè®®å¡ç‰‡
âœ“ åº•éƒ¨æ˜¾ç¤ºé»„è‰²æç¤ºæ¡†ï¼š"è¿™æ˜¯æ¼”ç¤ºæ•°æ®"

å¦‚æœçœ‹åˆ°ä»¥ä¸Šæ‰€æœ‰å†…å®¹ï¼Œè¯´æ˜é¡µé¢æ­£å¸¸å·¥ä½œï¼ğŸ‰

